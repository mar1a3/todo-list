<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>№1</title>
</head>
<body>

    <style>
        .table{
            width: 300px;
            height: 300px;
            border:1px solid black;
        }
        td{
            width: 10px;
            height: 10px;
            background-color: rgb(231, 196, 233);
        }
        .toggle-td{
            background-color: rgb(117, 197, 197);
        }

    </style>
    <h1>Угадай ячейку</h1>
    <div>
        <table class="table">
        </table>
    </div>

    <script>

//создаем таблицу
    let table = document.querySelector('.table');
    let k = 1; 
    for (let i = 0; i < 10; i++) {
	    let tr = document.createElement('tr');
	
	for (let i = 0; i < 10; i++) {
		let td = document.createElement('td');
		
		td.textContent = k;
		k++; 
		
		tr.appendChild(td);
	}
	table.appendChild(tr);
}

    let arr = [];
//перебор значений в таблице для занесения их в пустой массив
    for (var i = 0, row; row = table.rows[i]; i++) {
   //iterate through rows
   //rows would be accessed using the "row" variable assigned in the for loop
    for (var j = 0, col; col = row.cells[j]; j++) {
        arr.push(col)

     //iterate through columns
     //columns would be accessed using the "col" variable assigned in the for loop
   }
}
// одно рандомная ячейка (просто так тут строчка)
// var randomValue = arr[Math.floor(arr.length * Math.random())];

function play(){
//10 рандомных ячеек
var randNumbers = [];
do {
  randNumbers[randNumbers.length] = arr.splice(
                                Math.floor(Math.random() * arr.length)
                              , 1)[0];
} while (randNumbers.length < 10);
console.log(randNumbers);

//перебор, чтобы покрасить ячейки
    for ( var i = 0; i < arr.length; i++ ) (function(i){
    let randItem = randNumbers.find(elem => elem == arr[i])
    arr[i].onclick = function() {
        if(arr[i] !== randItem){
            arr[i].classList.toggle('toggle-td')
        }
    }
    })(i);

//перебор randItem
for ( var i = 0; i < randNumbers.length; i++ ) (function(i){
    randNumbers[i].onclick = function() {
        
            randNumbers[i].style.background = ('red')
        }
    })(i);

}
console.log('after 4 sec');
setTimeout(play, 4 * 1000);

    </script>
    
</body>
</html>


